<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.Button?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.control.ScrollPane?>
<?import javafx.scene.control.Separator?>
<?import javafx.scene.control.TextField?>
<?import javafx.scene.control.ToggleButton?>
<?import javafx.scene.control.ToggleGroup?>
<?import javafx.scene.image.Image?>
<?import javafx.scene.image.ImageView?>
<?import javafx.scene.layout.BorderPane?>
<?import javafx.scene.layout.FlowPane?>
<?import javafx.scene.layout.HBox?>
<?import javafx.scene.layout.Priority?>
<?import javafx.scene.layout.StackPane?>
<?import javafx.scene.layout.VBox?>
<?import javafx.scene.shape.Rectangle?>
<?import javafx.scene.text.Font?>
<?import javafx.scene.text.TextAlignment?>

<BorderPane fx:id="rootPane" xmlns="http://javafx.com/javafx/17.0.2-ea" 
            xmlns:fx="http://javafx.com/fxml/1" 
            stylesheets="@../styles/order_style.css">

    <!-- TOP: Header and Navigation -->
    <top>
        <VBox style="-fx-background-color: linear-gradient(to right, #2c3e50, #4a6491);">
            <HBox alignment="CENTER" spacing="20" style="-fx-padding: 15px 20px;">
                <!-- Logo and Title -->
                <HBox alignment="CENTER_LEFT" spacing="10">
                    <ImageView fitWidth="40" fitHeight="40" preserveRatio="true">
                        <Image url="https://cdn-icons-png.flaticon.com/512/3075/3075977.png" />
                    </ImageView>
                    <Label text="Cafeteria Pro" style="-fx-text-fill: white; -fx-font-size: 24px; -fx-font-weight: bold;">
                        <font>
                            <Font name="Arial Bold" size="24.0" />
                        </font>
                    </Label>
                </HBox>
                
                <!-- Navigation -->
                <HBox alignment="CENTER_RIGHT" spacing="15" HBox.hgrow="ALWAYS">
                    <ToggleButton text="Home" toggleGroup="$categoryGroup" styleClass="nav-btn" userData="ALL" selected="true" />
                    <ToggleButton text="Food" toggleGroup="$categoryGroup" styleClass="nav-btn" userData="FOOD" />
                    <ToggleButton text="Drinks" toggleGroup="$categoryGroup" styleClass="nav-btn" userData="DRINKS" />
                    <ToggleButton text="Snacks" toggleGroup="$categoryGroup" styleClass="nav-btn" userData="SNACKS" />
                    <Separator orientation="VERTICAL" style="-fx-padding: 0 10px;" />
                    <Button text="Cart (0)" fx:id="cartBtn" styleClass="cart-btn" />
                    <Button text="Orders" styleClass="nav-btn" />
                    <Button text="Logout" styleClass="logout-btn" />
                </HBox>
            </HBox>
            
            <!-- Search Bar -->
            <HBox alignment="CENTER" spacing="10" style="-fx-padding: 0 20px 15px 20px;">
                <TextField fx:id="searchField" promptText="Search items..." styleClass="search-field" HBox.hgrow="ALWAYS" />
                <Button text="Search" styleClass="search-btn" />
                <Button text="Clear" styleClass="clear-btn" />
            </HBox>
        </VBox>
    </top>

    <!-- CENTER: Main Content -->
    <center>
        <HBox spacing="20" style="-fx-padding: 20px;">
            <!-- Left: Menu Items -->
            <VBox spacing="20" HBox.hgrow="ALWAYS">
                <HBox alignment="CENTER_LEFT" spacing="10">
                    <Label text="Today's Specials" style="-fx-font-size: 22px; -fx-font-weight: bold; -fx-text-fill: #2c3e50;" />
                    <Label fx:id="itemCountLabel" text="12 items" style="-fx-font-size: 14px; -fx-text-fill: #7f8c8d;" />
                </HBox>
                
                <!-- Menu Items Grid -->
                <ScrollPane fitToWidth="true" style="-fx-background-color: transparent; -fx-border-color: transparent;">
                    <FlowPane fx:id="menuItemsContainer" hgap="20" vgap="20" style="-fx-padding: 10px;">
                        <!-- Items will be dynamically added here -->
                        
                        <!-- Example Item 1 -->
                        <VBox styleClass="menu-card" spacing="0">
                            <StackPane>
                                <!-- Image -->
                                <ImageView fitWidth="250" fitHeight="150" preserveRatio="false">
                                    <Image url="https://images.unsplash.com/photo-1528735602780-2552fd46c7af" />
                                </ImageView>
                                <!-- Price Tag -->
                                <HBox alignment="CENTER_RIGHT" style="-fx-padding: 10px;">
                                    <Label text="â‚±50" styleClass="price-tag" />
                                </HBox>
                            </StackPane>
                            
                            <VBox spacing="5" style="-fx-padding: 15px;">
                                <Label text="Fresh Sandwich" styleClass="item-name" />
                                <Label text="Vegetable sandwich with fresh ingredients" styleClass="item-desc" />
                                <HBox alignment="CENTER_LEFT" spacing="5">
                                    <Label text="ðŸ”´" style="-fx-font-size: 12px;" />
                                    <Label text="22 left" styleClass="stock-label" />
                                </HBox>
                            </VBox>
                            
                            <HBox spacing="10" style="-fx-padding: 10px 15px 15px 15px;">
                                <Button text="Details" styleClass="detail-btn" HBox.hgrow="ALWAYS" />
                                <Button text="Add to Cart" styleClass="cart-add-btn" HBox.hgrow="ALWAYS" />
                            </HBox>
                        </VBox>
                        
                        <!-- Example Item 2 -->
                        <VBox styleClass="menu-card" spacing="0">
                            <StackPane>
                                <ImageView fitWidth="250" fitHeight="150" preserveRatio="false">
                                    <Image url="https://images.unsplash.com/photo-1498804103079-a6351b050096" />
                                </ImageView>
                                <HBox alignment="CENTER_RIGHT" style="-fx-padding: 10px;">
                                    <Label text="â‚±30" styleClass="price-tag" />
                                </HBox>
                            </StackPane>
                            
                            <VBox spacing="5" style="-fx-padding: 15px;">
                                <Label text="Hot Coffee" styleClass="item-name" />
                                <Label text="Freshly brewed coffee" styleClass="item-desc" />
                                <HBox alignment="CENTER_LEFT" spacing="5">
                                    <Label text="ðŸŸ¢" style="-fx-font-size: 12px;" />
                                    <Label text="32 left" styleClass="stock-label" />
                                </HBox>
                            </VBox>
                            
                            <HBox spacing="10" style="-fx-padding: 10px 15px 15px 15px;">
                                <Button text="Details" styleClass="detail-btn" HBox.hgrow="ALWAYS" />
                                <Button text="Add to Cart" styleClass="cart-add-btn" HBox.hgrow="ALWAYS" />
                            </HBox>
                        </VBox>
                        
                        <!-- Add more items as needed -->
                    </FlowPane>
                </ScrollPane>
            </VBox>
            
            <!-- Right: Order Summary -->
            <VBox style="-fx-min-width: 350px; -fx-background-color: #f8f9fa; -fx-border-radius: 10; -fx-padding: 20px;">
                <Label text="Order Summary" style="-fx-font-size: 20px; -fx-font-weight: bold; -fx-text-fill: #2c3e50;" />
                <Separator style="-fx-padding: 10px 0;" />
                
                <!-- Cart Items -->
                <VBox spacing="10" VBox.vgrow="ALWAYS">
                    <Label text="Your Cart" style="-fx-font-size: 16px; -fx-font-weight: bold;" />
                    
                    <ScrollPane fitToWidth="true" style="-fx-background-color: transparent; -fx-max-height: 300;">
                        <VBox fx:id="cartItemsContainer" spacing="10">
                            <!-- Cart items will be added here -->
                            <VBox alignment="CENTER" spacing="10" style="-fx-padding: 40px 20px;">
                                <ImageView fitWidth="80" fitHeight="80">
                                    <Image url="https://cdn-icons-png.flaticon.com/512/2038/2038854.png" />
                                </ImageView>
                                <Label text="Your cart is empty" style="-fx-text-fill: #95a5a6; -fx-font-size: 16px;" />
                                <Label text="Add items from the menu" style="-fx-text-fill: #bdc3c7; -fx-font-size: 14px;" />
                            </VBox>
                        </VBox>
                    </ScrollPane>
                </VBox>
                
                <!-- Order Total -->
                <VBox spacing="10" style="-fx-padding: 20px 0;">
                    <HBox alignment="CENTER_LEFT" spacing="5">
                        <Label text="Subtotal:" style="-fx-font-size: 16px;" />
                        <Label fx:id="subtotalLabel" text="â‚±0" style="-fx-font-size: 16px; -fx-font-weight: bold;" />
                    </HBox>
                    <HBox alignment="CENTER_LEFT" spacing="5">
                        <Label text="Tax (5%):" style="-fx-font-size: 16px;" />
                        <Label fx:id="taxLabel" text="â‚±0" style="-fx-font-size: 16px; -fx-font-weight: bold;" />
                    </HBox>
                    <Separator />
                    <HBox alignment="CENTER_LEFT" spacing="5">
                        <Label text="Total:" style="-fx-font-size: 20px; -fx-font-weight: bold;" />
                        <Label fx:id="totalLabel" text="â‚±0" style="-fx-font-size: 20px; -fx-font-weight: bold; -fx-text-fill: #e74c3c;" />
                    </HBox>
                </VBox>
                
                <!-- Action Buttons -->
                <VBox spacing="10">
                    <Button text="Place Order" styleClass="order-btn" fx:id="placeOrderBtn" disable="true" />
                    <Button text="Clear Cart" styleClass="clear-btn" />
                    <Button text="Save Order" styleClass="save-btn" />
                </VBox>
            </VBox>
        </HBox>
    </center>

    <!-- BOTTOM: Footer -->
    <bottom>
        <HBox alignment="CENTER" spacing="40" style="-fx-background-color: #2c3e50; -fx-padding: 20px;">
            <VBox alignment="CENTER_LEFT" spacing="5">
                <Label text="ðŸ“ Location" style="-fx-text-fill: #f1c40f; -fx-font-weight: bold;" />
                <Label text="Main Building, Ground Floor" style="-fx-text-fill: #ecf0f1;" />
            </VBox>
            <VBox alignment="CENTER_LEFT" spacing="5">
                <Label text="â° Hours" style="-fx-text-fill: #f1c40f; -fx-font-weight: bold;" />
                <Label text="8:00 AM - 8:00 PM" style="-fx-text-fill: #ecf0f1;" />
            </VBox>
            <VBox alignment="CENTER_LEFT" spacing="5">
                <Label text="ðŸ“ž Contact" style="-fx-text-fill: #f1c40f; -fx-font-weight: bold;" />
                <Label text="+91 98765 43210" style="-fx-text-fill: #ecf0f1;" />
            </VBox>
        </HBox>
    </bottom>

</BorderPane>